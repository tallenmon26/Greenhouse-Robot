#include <SabertoothSimplified.h>

// Use Serial0 for the Nano ESP32 pins (TX1/D1)
SabertoothSimplified ST(Serial0); 

void setup() {
  // Initialize communication
  Serial0.begin(9600); 
  Serial.begin(9600);
  
  delay(2000); // Wait for Sabertooth to wake up
  
  // Start with a brief stop to ensure safety
  ST.motor(1, 0);
  ST.motor(2, 0);
  Serial.println("System Ready. Starting Spin...");
  delay(1000);
}

void loop() {
  // --- COMMAND: SPIN RIGHT (Clockwise) ---
  Serial.println("Spinning...");
  
  // Left Side goes FORWARD
  ST.motor(1, 127);  
  
  // Right Side goes BACKWARD
  // The negative sign is the key! It reverses the motor.
  ST.motor(2, -127); 
  
  // Add a small delay so we don't spam the Serial Monitor
  delay(100);
}
