#include <SabertoothSimplified.h>
SabertoothSimplified ST(Serial0); 

void setup() {
  // Initialize the PIN communication
  Serial0.begin(9600); 
  
  // Initialize the USB communication (for your computer screen)
  Serial.begin(9600);
  
  delay(2000); // Wait for Sabertooth to wake up
  
  // Send an explicit STOP command to ensure we have control
  ST.motor(1, 0);
  ST.motor(2, 0);
  Serial.println("System Ready. Sending commands...");
}

void loop() {
  Serial.println("Running: Forward");
  ST.motor(1, 64); // Full Speed
  ST.motor(2, 64);
  delay(3000); 

  Serial.println("Running: Stop");
  ST.motor(1, 0);
  ST.motor(2, 0);
  delay(1000);

  Serial.println("Running: Backward");
  ST.motor(1, 64);
  ST.motor(2, 64);
  delay(3000);

  Serial.println("Running: Stop");
  ST.motor(1, 0);
  ST.motor(2, 0);
  delay(1000);
}
